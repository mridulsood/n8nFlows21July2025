{
  "active": false,
  "connections": {
    "When chat message received": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Vector Store Tool": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Supabase Vector Store": {
      "ai_vectorStore": [
        [
          {
            "node": "Vector Store Tool",
            "type": "ai_vectorStore",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Vector Store Tool",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Embeddings Google Gemini": {
      "ai_embedding": [
        [
          {
            "node": "Supabase Vector Store",
            "type": "ai_embedding",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-03-04T11:21:42.602Z",
  "id": "wco8eNeGNYenrswv",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "Chat Based: You Tube Comments Trend Analysis",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "mode": "webhook",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.1,
      "position": [
        100,
        -100
      ],
      "id": "6cdfbd4a-6355-4cb7-b78a-67cb68ec68bb",
      "name": "When chat message received",
      "webhookId": "0fa99fe8-ca8d-4008-b3a4-17b5e15454d4"
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "SYSTEM CONTEXT:\nYou are a YouTube content strategist with access to a vector database of YouTube comments through the Vector Store Tool. Your role is to analyze viewer engagement, identify content opportunities, and help creators develop targeted content based on audience interests and trends.\n\nANALYSIS CAPABILITIES:\n\n1. TREND ANALYSIS\n- Identify emerging topics and themes\n- Track audience interests and questions\n- Analyze sentiment patterns\n- Spot content gaps and opportunities\n- Monitor engagement triggers\n- Recognize recurring viewer requests\n\n2. CONTENT DEVELOPMENT\n- Transform viewer interests into content ideas\n- Create scripts based on audience needs\n- Design titles that drive engagement\n- Structure content for maximum impact\n- Suggest hooks based on viewer feedback\n\n3. AUDIENCE INSIGHTS\n- Extract viewer pain points and needs\n- Identify demographic patterns\n- Map content preferences\n- Track evolving viewer interests\n\nRESPONSE FORMATS:\n\n1. For Trend Analysis:\nTREND REPORT\nKey Patterns:\n[Major trends with comment evidence]\nEmerging Topics:\n[New and growing themes]\nAudience Sentiment:\n[Viewer reactions and engagement patterns]\nContent Gaps:\n[Underserved topics and requests]\n\n2. For Content Creation:\nCONTENT PROPOSAL\nTitle: [Engaging, SEO-optimized title]\nTarget Audience: [Viewer demographic]\nKey Hook: [Compelling opening]\nScript Structure:\n\nIntroduction: [Attention-grabbing opener]\nMain Content: [Key points and flow]\nEngagement Elements: [Interactive moments]\nConclusion: [Call to action]\n\nSupporting Evidence:\n[Relevant viewer comments]\n[Engagement patterns]\n\nWORKING PROCESS:\n1. Query Vector Store Tool for relevant comments\n2. Analyze patterns and viewer needs\n3. Identify content opportunities\n4. Develop targeted content ideas\n5. Support with comment evidence\n\nOUTPUT PRINCIPLES:\n- Base all insights on actual comment data\n- Include specific viewer quotes\n- Reference video performance data\n- Focus on actionable content ideas\n- Connect trends to viewer needs\n- Suggest practical content solutions\n- output formatted text, never markdown\n\nRemember to:\n- Always query Vector Store Tool first\n- Use comment evidence for recommendations\n- Focus on viewer-driven insights\n- Consider engagement metrics\n- Reference source videos when relevant\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        360,
        -100
      ],
      "id": "b105881a-2748-4d6e-9729-a69177c3e8b7",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "name": "comments_data",
        "description": "Retrieve youtube comments from the vector store",
        "topK": 250
      },
      "type": "@n8n/n8n-nodes-langchain.toolVectorStore",
      "typeVersion": 1,
      "position": [
        520,
        120
      ],
      "id": "67396b92-b9b6-4222-a128-99eb6150801e",
      "name": "Vector Store Tool"
    },
    {
      "parameters": {
        "tableName": {
          "__rl": true,
          "value": "documents",
          "mode": "list",
          "cachedResultName": "documents"
        },
        "options": {
          "queryName": "match_documents"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.vectorStoreSupabase",
      "typeVersion": 1,
      "position": [
        240,
        380
      ],
      "id": "b106a937-8cc5-4fcb-90ed-34cf780b793e",
      "name": "Supabase Vector Store",
      "credentials": {
        "supabaseApi": {
          "id": "gfseTXw9W07IWbfu",
          "name": "Supabase account"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        160,
        140
      ],
      "id": "236cef2c-950c-4208-bfa0-02f0c42aec40",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "a5oyPAwibiOEyC8n",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-flash",
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        660,
        340
      ],
      "id": "4d57037f-978a-4a53-970a-15b2db223b44",
      "name": "Google Gemini Chat Model1",
      "credentials": {
        "googlePalmApi": {
          "id": "a5oyPAwibiOEyC8n",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "modelName": "models/embedding-001"
      },
      "type": "@n8n/n8n-nodes-langchain.embeddingsGoogleGemini",
      "typeVersion": 1,
      "position": [
        340,
        600
      ],
      "id": "482e9790-bc59-4852-b060-38f2e55a7438",
      "name": "Embeddings Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "a5oyPAwibiOEyC8n",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "contextWindowLength": 10
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        380,
        120
      ],
      "id": "97fea7c2-2d0a-442a-bb8c-6d41edde3739",
      "name": "Window Buffer Memory"
    }
  ],
  "pinData": {},
  "repo_name": "n8nFlows21July2025",
  "repo_owner": "mridulsood",
  "repo_path": "https://github.com/mridulsood/n8nFlows21July2025.git",
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [
    {
      "createdAt": "2025-03-04T09:48:24.593Z",
      "updatedAt": "2025-03-04T09:48:24.593Z",
      "id": "HZdMPK5JPV0wYJXw",
      "name": "youtube comments agent"
    }
  ],
  "triggerCount": 0,
  "updatedAt": "2025-03-26T08:40:20.000Z",
  "versionId": "a6e40ba2-2fa5-4e87-817d-d2fb1300179e"
}